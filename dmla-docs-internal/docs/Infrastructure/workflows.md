# GH Workflows

All DMLA projects have GitHub workflows set up to simplify the creation of new releases.

The documentation site is updated automatically on each commit to the _docs_ branch of the releases repository.

## Beta and Stable Releases

The DMLA installer will pull releases from either the [Beta releases repository](https://github.com/dmlaorg/dmla_releases_beta) with the use of a personal access token, or a _stable_ release from [DMLA Releases](https://github.com/dmlaorg/dmla_releases).


## Versions

Commits made to each release branch that are expected to result in a release **should contain the desired release version number as part of their commit message** (e.g. `commit message (...) 0.0.0`).
The version numbers used for the release tags are not extracted from the version number specified in the commit message, but this mechanism prevents us from accidentally creating releases during merges/development (the scripts stop the release workflows if the version numbers in the commit messages do not match the version numbers specified in the project files).

The version numbers are extracted from the following sources:

* The package.json manifest of the VS Code extension
* The Cargo.toml file generated by the Rust toolchain in case of the launcher
* The first comment of the bootstrap
* The archive version field of the JAR manifest of the runtime

## Launcher Cross Compilation

For now, releases for the launcher are only built for Windows and Linux, targeting the X86 architecture. ARM releases can be added trivially, but MacOS releases require the use of a toolchain that runs on MacOS (as other workarounds are problematic regarding licensing), and are not a priority.